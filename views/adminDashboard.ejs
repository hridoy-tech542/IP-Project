<%- include('partials/header') %>

<h1>Admin Dashboard</h1>
<div class="admin_logout">
  <a href="/admin/logout" class="logout-btn">Logout</a>
</div>

<h2>Add New Book</h2>
<form action="/admin/add" method="POST" enctype="multipart/form-data" class="admin-form">
  <input type="text" name="title" placeholder="Title" required>
  <input type="text" name="author" placeholder="Author" required>
  <input type="number" name="rentPrice" placeholder="Rent Price" required>
  <input type="file" name="coverImage" accept="image/*"> <!-- Upload field -->
  <button type="submit">Add Book</button>
</form>

<div class="admin-container">
<h2>Existing Books</h2>
<table class="admin-table">
  <tr>
    <th>Title</th>
    <th>Author</th>
    <th>Rent Price</th>
    <th>Actions</th>
  </tr>
  <% books.forEach(book => { %>
    <tr>
      <td><%= book.title %></td>
      <td><%= book.author %></td>
      <td><%= book.rentPrice %></td>
      <td>
        <!-- Update button -->
        <form action="/admin/update/<%= book._id %>" method="POST" class="inline-form">
          <button type="submit" class="update-btn">Update</button>
        </form>
        <!-- Delete button -->
        <form action="/admin/delete/<%= book._id %>" method="POST" class="inline-form">
          <button type="submit" class="delete-btn">Delete</button>
        </form>
      </td>
    </tr>
  <% }) %>
</table>
</div>
<%- include('partials/footer') %>

